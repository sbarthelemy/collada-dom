#-*-makefile-*-
# Copyright 2006 Sony Computer Entertainment Inc.
#
# Licensed under the SCEA Shared Source License, Version 1.0 (the "License"); you may not use this 
# file except in compliance with the License. You may obtain a copy of the License at:
# http://research.scea.com/scea_shared_source_license.html
#
# Unless required by applicable law or agreed to in writing, software distributed under the License 
# is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or 
# implied. See the License for the specific language governing permissions and limitations under the 
# License. 
#
# 
#
# Visual Studio 7.1 compiler and linker specific settings
#
#


LIB_PREFIX      := 
LIB_SUFFIX      := .lib
EXE_SUFFIX		:= .exe
OBJ_SUFFIX      := .obj

CC	= "cl"
CXX	= "cl"
LD	= "$(VSINSTALLDIR)/Vc7/bin/link.exe"
AR	= lib

LCOUT = /OUT:
CCOUT = /Fo
LCQUIET = /NOLOGO
CCQUIET = /nologo  /wd4311 /wd4312 /wd4244 /wd4267
CCOPT = /D"WIN32" /EHsc 
CCINC = /I

RELEASE_CCOPT = /O2 /D "NDEBUG" /ML
DEBUG_CCOPT = /Od /D "_DEBUG" /MLd
LIB_CCOPT = /D _LIB

ifeq ($(SUBSYSTEM),)
SUBSYSTEM := CONSOLE
endif

EXE_DBG_LCOPT = /INCREMENTAL /SUBSYSTEM:$(SUBSYSTEM) /MACHINE:X86
EXE_REL_LCOPT = /INCREMENTAL:NO /SUBSYSTEM:$(SUBSYSTEM) /OPT:REF /OPT:ICF /MACHINE:X86

# detect linux style shell
ifneq ($(TERM),)
USE_SHELL     := 1
endif

ifeq ($(USE_SHELL),1)
RM  = rm 
else
RM  = del
endif

